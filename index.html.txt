<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fibonacci Smart Picker</title>
    <meta name="theme-color" content="#1a1a1a">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.png">
    <style>
        :root { --gold: #d4af37; --bg: #1a1a1a; --card: #2c2c2c; }
        body { font-family: sans-serif; background-color: var(--bg); color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .container { background-color: var(--card); padding: 2rem; border-radius: 20px; text-align: center; max-width: 400px; width: 90%; border: 1px solid var(--gold); }
        h1 { color: var(--gold); font-size: 1.5rem; margin-bottom: 20px; }
        .ball-container { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; min-height: 50px; border: 1px dashed #444; border-radius: 10px; }
        .ball { width: 40px; height: 40px; background: radial-gradient(circle at 30% 30%, #f4d03f, var(--gold)); color: #111; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; }
        button { background-color: var(--gold); color: #111; border: none; padding: 15px; font-weight: bold; border-radius: 12px; cursor: pointer; width: 100%; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>Fibonacci Smart Picker</h1>
    
    <div id="ballBox" class="ball-container">
        <p style="color:#666; font-size:0.7rem; margin: auto;">Numbers will appear here</p>
    </div>
    
    <button onclick="generateNumbers()">GENERATE NUMBERS</button>

    <div id="statusUpdate" style="font-size:0.7rem; color:gray; margin-top:10px;">System Ready</div>
</div>

<script>
    const fibs = [1, 2, 3, 5, 8, 13, 21, 34, 55];

    function generateNumbers() {
        console.log("Button clicked!");
        document.getElementById('statusUpdate').innerText = "Calculating...";

        // Vibration
        if (navigator.vibrate) navigator.vibrate(100);

        let ticket = [];
        let isBalanced = false;
        let attempts = 0;

        while (!isBalanced && attempts < 1000) {
            attempts++;
            ticket = [];
            let tempFibs = [...fibs];
            // Pick 2 Fibs
            for(let i=0; i<2; i++) {
                ticket.push(tempFibs.splice(Math.floor(Math.random() * tempFibs.length), 1)[0]);
            }
            // Fill to 6
            while(ticket.length < 6) {
                let num = Math.floor(Math.random() * 60) + 1;
                if(!ticket.includes(num)) ticket.push(num);
            }
            // Check Odd/Even
            if(ticket.filter(n => n % 2 !== 0).length === 3) isBalanced = true;
        }

        ticket.sort((a, b) => a - b);
        
        // Display Logic
        const box = document.getElementById('ballBox');
        box.innerHTML = '';
        ticket.forEach(n => {
            const b = document.createElement('div');
            b.className = 'ball';
            b.innerText = n;
            box.appendChild(b);
        });
        
        document.getElementById('statusUpdate').innerText = "Success! Found in " + attempts + " attempts.";
    }
</script>
</body>
</html>
